<Window
    x:Class="LenovoLegionToolkit.WPF.Windows.FloatingGadgets.FloatingGadget"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:LenovoLegionToolkit.WPF.Windows"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:utils="clr-namespace:LenovoLegionToolkit.WPF.Utils"
    Title="FloatingGadget"
    Width="280"
    Height="740"
    AllowsTransparency="True"
    Background="Transparent"
    Left="0"
    ShowInTaskbar="False"
    Top="20"
    Topmost="True"
    WindowStartupLocation="Manual"
    WindowStyle="None">

    <Border
        Padding="15"
        Background="Transparent"
        CornerRadius="12">
        <StackPanel>
            <StackPanel x:Name="_sensorsPanel">

                <StackPanel.Resources>
                    <Style x:Key="SensorLabelStyle" TargetType="TextBlock">
                        <Setter Property="Foreground" Value="GreenYellow" />
                        <Setter Property="FontSize" Value="13" />
                        <Setter Property="FontWeight" Value="Black" />
                        <Setter Property="FontFamily" Value="Segoe UI" />
                        <Setter Property="Effect">
                            <Setter.Value>
                                <DropShadowEffect
                                    BlurRadius="4"
                                    Opacity="1"
                                    ShadowDepth="0"
                                    Color="Black" />
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Margin" Value="0,3" />
                    </Style>
                    <Style x:Key="SensorValueStyle" TargetType="TextBlock">
                        <Setter Property="Foreground" Value="White" />
                        <Setter Property="FontSize" Value="15" />
                        <Setter Property="FontWeight" Value="Black" />
                        <Setter Property="FontFamily" Value="Segoe UI" />
                        <Setter Property="HorizontalAlignment" Value="Right" />
                        <Setter Property="Margin" Value="0,1" />
                        <Setter Property="Effect">
                            <Setter.Value>
                                <DropShadowEffect
                                    BlurRadius="4"
                                    Opacity="1"
                                    ShadowDepth="0"
                                    Color="Black" />
                            </Setter.Value>
                        </Setter>
                    </Style>
                </StackPanel.Resources>

                <!--  FPS Group  -->
                <StackPanel x:Name="_fpsGroup" Margin="0,5,0,0">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontSize="14"
                        FontWeight="Bold"
                        Foreground="#FF5722"
                        Style="{StaticResource SensorLabelStyle}"
                        Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Fps}, StringFormat='— {0} —'}" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Fps}" />
                        <TextBlock
                            x:Name="_fps"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Low_Fps}" />
                        <TextBlock
                            x:Name="_lowFps"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Frame_Time}" />
                        <TextBlock
                            x:Name="_frameTime"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>
                </StackPanel>

                <Rectangle
                    x:Name="_separatorFps"
                    Height="8"
                    Fill="Transparent" />

                <!--  CPU Group  -->
                <StackPanel x:Name="_cpuGroup" Margin="0,5,0,0">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontSize="14"
                        FontWeight="Bold"
                        Foreground="#FF5722"
                        Style="{StaticResource SensorLabelStyle}"
                        Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Cpu}, StringFormat='— {0} —'}" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_Utilization_Title}" />
                        <TextBlock
                            x:Name="_cpuUsage"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_CoreClock_Title}" />
                        <TextBlock
                            x:Name="_cpuFrequency"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="P-Core Clock" />
                        <TextBlock
                            x:Name="_cpuPFrequency"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="E-Core Clock" />
                        <TextBlock
                            x:Name="_cpuEFrequency"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_Temperature_Title}" />
                        <TextBlock
                            x:Name="_cpuTemperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_CPU_Power}" />
                        <TextBlock
                            x:Name="_cpuPower"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <!--  CPU Fan inside CPU group  -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_CPU_Fan}" />
                        <TextBlock
                            x:Name="_cpuFanSpeed"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>
                </StackPanel>

                <Separator Margin="0,8" Background="#3A3A3A" />

                <!--  GPU Group  -->
                <StackPanel x:Name="_gpuGroup">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontSize="14"
                        FontWeight="Bold"
                        Foreground="#4CAF50"
                        Style="{StaticResource SensorLabelStyle}"
                        Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Gpu}, StringFormat='— {0} —'}" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_Utilization_Title}" />
                        <TextBlock
                            x:Name="_gpuUsage"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_CoreClock_Title}" />
                        <TextBlock
                            x:Name="_gpuFrequency"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_GpuCore_Title}" />
                        <TextBlock
                            x:Name="_gpuTemperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_GpuMemoryTemperature_Title}" />
                        <TextBlock
                            x:Name="_gpuVramTemperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorsControl_CPU_Power}" />
                        <TextBlock
                            x:Name="_gpuPower"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <!--  GPU Fan inside GPU group  -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_GPU_Fan}" />
                        <TextBlock
                            x:Name="_gpuFanSpeed"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>
                </StackPanel>

                <Separator Margin="0,8" Background="#3A3A3A" />

                <!--  Memory Group  -->
                <StackPanel x:Name="_memoryGroup">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontSize="14"
                        FontWeight="Bold"
                        Foreground="#FFC107"
                        Style="{StaticResource SensorLabelStyle}"
                        Text="{Binding Source={x:Static resources:Resource.SensorsControl_Memory_Title}, StringFormat='— {0} —'}" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Memory_Utilization}" />
                        <TextBlock
                            x:Name="_memUsage"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Memory_Temperature}" />
                        <TextBlock
                            x:Name="_memTemperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>
                </StackPanel>

                <Separator Margin="0,8" Background="#3A3A3A" />

                <!--  PCH / Disks Group  -->
                <StackPanel x:Name="_pchGroup">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontSize="14"
                        FontWeight="Bold"
                        Foreground="#9C27B0"
                        Style="{StaticResource SensorLabelStyle}"
                        Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Chipset}, StringFormat='— {0} —'}" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            x:Name="_pchName"
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.SensorItem_PchTemperature}" />
                        <TextBlock
                            x:Name="_pchTemperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Disk_0_Temperature}" />
                        <TextBlock
                            x:Name="_disk0Temperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_Disk_1_Temperature}" />
                        <TextBlock
                            x:Name="_disk1Temperature"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>

                    <!--  PCH Fan inside PCH group  -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Style="{StaticResource SensorLabelStyle}"
                            Text="{x:Static resources:Resource.FloatingGadgets_PCH_Fan}" />
                        <TextBlock
                            x:Name="_pchFanSpeed"
                            Grid.Column="1"
                            Style="{StaticResource SensorValueStyle}"
                            Text="-" />
                    </Grid>
                </StackPanel>

            </StackPanel>
        </StackPanel>
    </Border>
</Window>